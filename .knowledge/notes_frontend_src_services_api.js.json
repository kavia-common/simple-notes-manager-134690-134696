{"is_source_file": true, "format": "JavaScript", "description": "This file defines an API service module for interacting with a notes backend API, including functions for fetching, creating, updating, and deleting notes. It also includes a robust mock fallback implementation that stores data in localStorage for local testing when the backend is unavailable.", "external_files": ["fetch", "localStorage", "process.env"], "external_methods": ["fetch"], "published": ["fetchNotes", "createNote", "updateNote", "deleteNote"], "classes": [], "methods": [{"name": "fetchNotes()", "description": "Fetches all notes from the backend or mock store.", "scope": "", "scopeKind": ""}, {"name": "createNote(note)", "description": "Creates a new note with a title and content.", "scope": "", "scopeKind": ""}, {"name": "updateNote(id, updates)", "description": "Updates an existing note by ID with provided updates.", "scope": "", "scopeKind": ""}, {"name": "deleteNote(id)", "description": "Deletes a note by ID.", "scope": "", "scopeKind": ""}, {"name": "requestWithMock(method, path, body)", "description": "Core function that attempts to perform a fetch request to the backend, falling back to mock data if the backend is unreachable.", "scope": "", "scopeKind": ""}, {"name": "loadMock()", "description": "Loads mock notes data from localStorage or initializes default seed data.", "scope": "", "scopeKind": ""}, {"name": "saveMock(state)", "description": "Saves mock notes data to localStorage.", "scope": "", "scopeKind": ""}, {"name": "uid()", "description": "Generates a pseudo-random unique ID.", "scope": "", "scopeKind": ""}, {"name": "mockRequest(method, path, body)", "description": "Simulates backend API requests for mock data, with latency.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "loadMock", "saveMock", "mockRequest", "Date", "JSON.stringify", "JSON.parse"], "search-terms": ["notes_api", "mock_fallback", "local_storage", "request_with_mock", "Note CRUD functions", "backend endpoint"], "state": 2, "file_id": 13, "knowledge_revision": 27, "git_revision": "", "ctags": [{"_type": "tag", "name": "LS_KEY", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-134690-134696/notes_frontend/src/services/api.js", "pattern": "/^const LS_KEY = \"notes_mock_store_v1\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-134690-134696/notes_frontend/src/services/api.js", "pattern": "/^      content: body?.content || \"\",$/", "language": "JavaScript", "kind": "property", "scope": "mockRequest.newNote", "scopeKind": "class"}, {"_type": "tag", "name": "createNote", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-134690-134696/notes_frontend/src/services/api.js", "pattern": "/^export async function createNote(note) {$/", "language": "JavaScript", "kind": "function", "signature": "(note)"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-134690-134696/notes_frontend/src/services/api.js", "pattern": "/^      createdAt: now,$/", "language": "JavaScript", "kind": "property", "scope": "mockRequest.newNote", "scopeKind": "class"}, {"_type": "tag", "name": "deleteNote", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-134690-134696/notes_frontend/src/services/api.js", "pattern": "/^export async function deleteNote(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "fetchNotes", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-134690-134696/notes_frontend/src/services/api.js", "pattern": "/^export async function fetchNotes() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-134690-134696/notes_frontend/src/services/api.js", "pattern": "/^      id: uid(),$/", "language": "JavaScript", "kind": "property", "scope": "mockRequest.newNote", "scopeKind": "class"}, {"_type": "tag", "name": "loadMock", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-134690-134696/notes_frontend/src/services/api.js", "pattern": "/^function loadMock() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "mockRequest", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-134690-134696/notes_frontend/src/services/api.js", "pattern": "/^async function mockRequest(method, path, body) {$/", "language": "JavaScript", "kind": "function", "signature": "(method, path, body)"}, {"_type": "tag", "name": "newNote", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-134690-134696/notes_frontend/src/services/api.js", "pattern": "/^    const newNote = {$/", "language": "JavaScript", "kind": "class", "scope": "mockRequest", "scopeKind": "class"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-134690-134696/notes_frontend/src/services/api.js", "pattern": "/^    notes: [$/", "language": "JavaScript", "kind": "property", "scope": "loadMock.seed", "scopeKind": "class"}, {"_type": "tag", "name": "requestWithMock", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-134690-134696/notes_frontend/src/services/api.js", "pattern": "/^async function requestWithMock(method, path, body) {$/", "language": "JavaScript", "kind": "function", "signature": "(method, path, body)"}, {"_type": "tag", "name": "saveMock", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-134690-134696/notes_frontend/src/services/api.js", "pattern": "/^function saveMock(state) {$/", "language": "JavaScript", "kind": "function", "signature": "(state)"}, {"_type": "tag", "name": "seed", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-134690-134696/notes_frontend/src/services/api.js", "pattern": "/^  const seed = {$/", "language": "JavaScript", "kind": "class", "scope": "loadMock", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-134690-134696/notes_frontend/src/services/api.js", "pattern": "/^      title: (body?.title || \"Untitled\").trim(),$/", "language": "JavaScript", "kind": "property", "scope": "mockRequest.newNote", "scopeKind": "class"}, {"_type": "tag", "name": "uid", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-134690-134696/notes_frontend/src/services/api.js", "pattern": "/^function uid() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "updateNote", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-134690-134696/notes_frontend/src/services/api.js", "pattern": "/^export async function updateNote(id, updates) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, updates)"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-134690-134696/notes_frontend/src/services/api.js", "pattern": "/^      updatedAt: now,$/", "language": "JavaScript", "kind": "property", "scope": "mockRequest.newNote", "scopeKind": "class"}], "hash": "716d19ba86770bd7dfd7eb672fb961a7", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/services/api.js", "fields": [{"name": "content: body?.content || \"\",", "scope": "mockRequest.newNote", "scopeKind": "class", "description": "unavailable"}, {"name": "createdAt: now,", "scope": "mockRequest.newNote", "scopeKind": "class", "description": "unavailable"}, {"name": "id: uid(),", "scope": "mockRequest.newNote", "scopeKind": "class", "description": "unavailable"}, {"name": "notes: [", "scope": "loadMock.seed", "scopeKind": "class", "description": "unavailable"}, {"name": "title: (body?.title || \"Untitled\").trim(),", "scope": "mockRequest.newNote", "scopeKind": "class", "description": "unavailable"}, {"name": "updatedAt: now,", "scope": "mockRequest.newNote", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"27": ""}]}